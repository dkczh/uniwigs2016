function resetPrice(a){if(void 0===a)return a;a+="";var b=a.split("."),c=b.length?b[0]:a,d=base.chars.strcut(c,3,-1),e=".";if((/ru/.test(gvs.langcode)||"RUB"==gvs.currencycode)&&(e=" "),gvs.isrp){/es/.test(gvs.langcode)&&d.join("").length<5&&(e="");var f=d.join(e)+(b.length&&b[1]?","+b[1]:"");return"USD"==gvs.currencycode&&(f=d.join(",")+(b.length&&b[1]?"."+b[1]:"")),"USD"!=gvs.currencycode&&"RUB"!=gvs.currencycode&&(e=",",f=d.join(".")+(b.length&&b[1]?e+b[1]:"")),"JPY"==gvs.currencycode&&(e="，",f=d.join("，")+(b.length&&b[1]?e+b[1]:"")),d.join("").length<4&&b.length&&b.length<2&&(/,/.test(f)||(f+=",00")),f+=" "}if(gvs.isjp)var f=d.join("，")+(b.length&&b[1]?"."+b[1]:"");else{var f=d.join(",")+(b.length&&b[1]?e+b[1]:"");"USD"!=gvs.currencycode&&"RUB"!=gvs.currencycode&&(e=",",f=d.join(".")+(b.length&&b[1]?e+b[1]:""))}return"JPY"==gvs.currencycode&&(e="，",f=d.join("，")+(b.length&&b[1]?e+b[1]:"")),d[1]&&d.join("").length<4&&b.length&&b.length<2&&(/\./.test(f)||(f+=".00")),f+=" "}function changeUnits(a){$("label.custom_unit").text($(a).val()),$("label.custom_unit_kg").text($(a).find("option:selected").attr("aunit"))}function checkKnum(){var a=!0,b=parseInt($("#proqty").val());return gvs.knum&&1!=gvs.knum?(b<gvs.knum?(a=!0,$("#s-knum_tips").fadeIn(80)):(a=!1,$("#s-knum_tips").fadeOut(80)),a):!1}function lockedProductSubmit(){var a=!1,b=$("#cussize");if(!$(".skuLinkage").length)return!1;b&&b.length&&$(".skusize").length&&$(".skusize").is(":disabled")&&(a=b.is(":checked")?!1:!0),$(".skuLinkage").each(function(){if(!$(this).is(":disabled")){var b=$(this).find("option:selected");(""===$.trim($(this).val())||b&&b.hasClass("no_stock"))&&(a=!0)}}),$(".custom_model_input").length&&($(".skusize_select").length||($("#cussize").length?0==$("#cussize").is(":checked")&&(a=!0):a=!0));var c=parseInt($("#instockNum").html()),d=parseInt($("#proqty").val());return c&&!isNaN(c)&&d&&!isNaN(d)&&d>c&&(a=!0),a}function getSales(a,b,c){b=base.math["float"](b);var d=$.parseJSON(a),e=base.math["float"]($(c).val()),f=(parseFloat($("#s-price").val()),$("#instockNum")),g=base.math["float"]($.trim(f.text()));""!=$.trim(f.text())&&!isNaN(g)&&e>g&&($(c).val(g),e=g),1>e&&(e=1),gvs.knum&&1!=gvs.knum&&$("#s-knum_tips")[e<gvs.knum?"fadeIn":"fadeOut"](200);var h=b,i=$(".s-final_price"),j=!1;if($(".s_pack_goods").each(function(){var a=$(this).find("input[type=checkbox]");a.is(":checked")&&a.attr("mainflag")&&(j=!0,h=base.math["float"]($("#s-price").val()))}),1===e||!d||$.isEmptyObject(d))i.attr("price",base.math["float"](e*base.math["float"](h))),i.find(".smt_price").text(resetPrice(i.attr("price"))),$("#s-price").data("changed",!1);else if(e>1&&d&&!$.isEmptyObject(d)){for(var k=h,l=0;l<d.length;l++){var m=d[l],n=-1===m.salenum2?m.salenum1:[m.salenum1,m.salenum2];if($.inArrayRange(n,e)){k=m.saleprice;break}}var o=e*base.math["float"](k);i.attr("price",base.math["float"](o)),i.find(".smt_price").text(resetPrice(i.attr("price"))),$("#s-price").data("changed",!0)}}function getSkuInfo(a,b,c){var d=$(a).parent().attr("sku:type"),e=$("#selected_"+d+"_box"),f=$(".selected_"+d);f&&f.length&&(f.html($(a).text()),""!==$.trim($(a).val())&&e.fadeIn(),$("#productLockedTips").is(":hidden")||lockedProductSubmit()||$("#productLockedTips").fadeOut());var g=$("#instock"),h=$("#instockNum"),i=$("#proqty");if(c){if(-1==b)return g.hide(),!1;if(g[b?"show":"hide"](),b){h.text(b).show();var j=base.math["float"]($.trim(i.val()));if(j>b){i.val(b);var k=base.math["float"]($(".final_price").attr("price")),l=base.math["float"]($("#packagePrice").attr("price")),m=base.math["float"]($.trim($("#sale_price").val()));$(".final_price").attr("price",base.math["float"](k-m*(j-b))),$("#packagePrice").attr("price",base.math["float"](l-m*(j-b))),$(".final_price").text(resetPrice($(".final_price").attr("price"))),$("#packagePrice").text(resetPrice($("#packagePrice").attr("price")))}}else h.hide().empty()}""===$.trim($(a).parent().val())&&f.html("-/-")}function ps_round(a,b){return"undefined"==typeof roundMode&&(roundMode=2),"undefined"==typeof b&&(b=2),method=roundMode,0==method?ceilf(a,b):1==method?floorf(a,b):(precisionFactor=0==b?1:Math.pow(10,b),Math.round(a*precisionFactor)/precisionFactor)}function ceilf(a,b){return"undefined"==typeof b&&(b=0),precisionFactor=0==b?1:Math.pow(10,b),tmp=a*precisionFactor,tmp2=tmp.toString(),0==tmp2[tmp2.length-1]?a:Math.ceil(a*precisionFactor)/precisionFactor}function floorf(a,b){return"undefined"==typeof b&&(b=0),precisionFactor=0==b?1:Math.pow(10,b),tmp=a*precisionFactor,tmp2=tmp.toString(),0==tmp2[tmp2.length-1]?a:Math.floor(a*precisionFactor)/precisionFactor}function formatCurrency(a,b,c,d){return blank="",a=parseFloat(a.toFixed(6)),a=ps_round(a,priceDisplayPrecision),d>0&&(blank=" "),1==b?c+blank+formatNumber(a,priceDisplayPrecision,",","."):2==b?formatNumber(a,priceDisplayPrecision," ",",")+blank+c:3==b?c+blank+formatNumber(a,priceDisplayPrecision,".",","):4==b?formatNumber(a,priceDisplayPrecision,",",".")+blank+c:a}function formatNumber(a,b,c,d){a=a.toFixed(b);for(var e=a+"",f=e.split("."),g=2==f.length?f[0]:e,h=("0."+(2==f.length?f[1]:0)).substr(2),i=g.length,j=1;4>j;j++)a>=Math.pow(10,3*j)&&(g=g.substring(0,i-3*j)+c+g.substring(i-3*j));return 0==parseInt(b)?g:g+d+(h>0?h:"00")}function updateTextWithEffect(a,b,c,d,e,f){a.text()!=b&&("fade"==d?a.fadeOut(c,function(){$(this).addClass(f),"fade"==e?$(this).text(b).fadeIn(c):"slide"==e?$(this).text(b).slideDown(c):"show"==e&&$(this).text(b).show(c,function(){})}):"slide"==d?a.slideUp(c,function(){$(this).addClass(f),"fade"==e?$(this).text(b).fadeIn(c):"slide"==e?$(this).text(b).slideDown(c):"show"==e&&$(this).text(b).show(c)}):"hide"==d&&a.hide(c,function(){$(this).addClass(f),"fade"==e?$(this).text(b).fadeIn(c):"slide"==e?$(this).text(b).slideDown(c):"show"==e&&$(this).text(b).show(c)}))}function dbg(a){var b=!1,c=!0;b&&(c?console.log(a):alert(a))}function print_r(a,b){var c="";b||(b=0);for(var d="",e=0;b+1>e;e++)d+="    ";if("object"==typeof a)for(var f in a){var g=a[f];"object"==typeof g?(c+=d+"'"+f+"' ...\n",c+=dump(g,b+1)):c+=d+"'"+f+"' => \""+g+'"\n'}else c="===>"+a+"<===("+typeof a+")";return c}function in_array(a,b){for(var c in b)if(b[c]==a)return!0;return!1}var baguetteBox=function(){function a(a,c){E.transforms=m(),E.svg=n(),b(),J=document.querySelectorAll(a),[].forEach.call(J,function(a,b){c&&c.filter&&(I=c.filter);var e=a.getElementsByTagName("a");e=[].filter.call(e,function(a){return I.test(a.href)});var g=K.length;K.push(e),K[g].options=c,[].forEach.call(K[g],function(a,b){q(a,"click",function(a){a.preventDefault?a.preventDefault():a.returnValue=!1,d(g),f(b)})})})}function b(){return(t=r("baguetteBox-overlay"))?(u=r("baguetteBox-slider"),v=r("previous-button"),w=r("next-button"),void(x=r("close-button"))):(t=s("div"),t.id="baguetteBox-overlay",document.getElementsByTagName("body")[0].appendChild(t),u=s("div"),u.id="baguetteBox-slider",t.appendChild(u),v=s("button"),v.id="previous-button",v.innerHTML=E.svg?z:"&lt;",t.appendChild(v),w=s("button"),w.id="next-button",w.innerHTML=E.svg?A:"&gt;",t.appendChild(w),x=s("button"),x.id="close-button",x.innerHTML=E.svg?B:"X",t.appendChild(x),v.className=w.className=x.className="baguetteBox-button",void c())}function c(){q(t,"click",function(a){a.target&&"IMG"!==a.target.nodeName&&"FIGCAPTION"!==a.target.nodeName&&g()}),q(v,"click",function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,k()}),q(w,"click",function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,j()}),q(x,"click",function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,g()}),q(t,"touchstart",function(a){y=a.changedTouches[0].pageX}),q(t,"touchmove",function(a){H||(a.preventDefault?a.preventDefault():a.returnValue=!1,touch=a.touches[0]||a.changedTouches[0],touch.pageX-y>40?(H=!0,k()):touch.pageX-y<-40&&(H=!0,j()))}),q(t,"touchend",function(a){H=!1}),q(document,"keydown",function(a){switch(a.keyCode){case 37:k();break;case 39:j();break;case 27:g()}})}function d(a){if(G!==a){for(G=a,e(K[a].options);u.firstChild;)u.removeChild(u.firstChild);L.length=0;for(var b,c=0;c<K[a].length;c++)b=s("div"),b.className="full-image",b.id="baguette-img-"+c,L.push(b),u.appendChild(L[c])}}function e(a){a||(a={});for(var b in D)C[b]=D[b],"undefined"!=typeof a[b]&&(C[b]=a[b]);u.style.transition=u.style.webkitTransition="fadeIn"===C.animation?"opacity .4s ease":"slideIn"===C.animation?"":"none","auto"===C.buttons&&("ontouchstart"in window||1===K[G].length)&&(C.buttons=!1),v.style.display=w.style.display=C.buttons?"":"none"}function f(a){"block"!==t.style.display&&(F=a,h(F,function(){o(F),p(F)}),l(),t.style.display="block",setTimeout(function(){t.className="visible",C.afterShow&&C.afterShow()},50),C.onChange&&C.onChange(F,L.length))}function g(){"none"!==t.style.display&&(t.className="",setTimeout(function(){t.style.display="none",C.afterHide&&C.afterHide()},500))}function h(a,b){var c=L[a];if("undefined"!=typeof c){if(c.getElementsByTagName("img")[0])return void(b&&b());imageElement=K[G][a],imageCaption="function"==typeof C.captions?C.captions.call(K[G],imageElement):imageElement.getAttribute("data-caption")||imageElement.title,imageSrc=i(imageElement);var d=s("figure"),e=s("img"),f=s("figcaption");c.appendChild(d),d.innerHTML='<div class="spinner"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>',e.onload=function(){var c=document.querySelector("#baguette-img-"+a+" .spinner");d.removeChild(c),!C.async&&b&&b()},e.setAttribute("src",imageSrc),d.appendChild(e),C.captions&&imageCaption&&(f.innerHTML=imageCaption,d.appendChild(f)),C.async&&b&&b()}}function i(a){var b=imageElement.href;if(a.dataset){var c=[];for(var d in a.dataset)"at-"!==d.substring(0,3)||isNaN(d.substring(3))||(c[d.replace("at-","")]=a.dataset[d]);keys=Object.keys(c).sort(function(a,b){return parseInt(a)<parseInt(b)?-1:1});for(var e=window.innerWidth*window.devicePixelRatio,f=0;f<keys.length-1&&keys[f]<e;)f++;b=c[keys[f]]||b}return b}function j(){var a;return F<=L.length-2?(F++,l(),o(F),a=!0):C.animation&&(u.className="bounce-from-right",setTimeout(function(){u.className=""},400),a=!1),C.onChange&&C.onChange(F,L.length),a}function k(){var a;return F>=1?(F--,l(),p(F),a=!0):C.animation&&(u.className="bounce-from-left",setTimeout(function(){u.className=""},400),a=!1),C.onChange&&C.onChange(F,L.length),a}function l(){var a=100*-F+"%";"fadeIn"===C.animation?(u.style.opacity=0,setTimeout(function(){E.transforms?u.style.transform=u.style.webkitTransform="translate3d("+a+",0,0)":u.style.left=a,u.style.opacity=1},400)):E.transforms?u.style.transform=u.style.webkitTransform="translate3d("+a+",0,0)":u.style.left=a}function m(){var a=s("div");return"undefined"!=typeof a.style.perspective||"undefined"!=typeof a.style.webkitPerspective}function n(){var a=s("div");return a.innerHTML="<svg/>","http://www.w3.org/2000/svg"==(a.firstChild&&a.firstChild.namespaceURI)}function o(a){a-F>=C.preload||h(a+1,function(){o(a+1)})}function p(a){F-a>=C.preload||h(a-1,function(){p(a-1)})}function q(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}function r(a){return document.getElementById(a)}function s(a){return document.createElement(a)}var t,u,v,w,x,y,z='<svg width="44" height="60"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',A='<svg width="44" height="60"><polyline points="14 10 34 30 14 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',B='<svg width="30" height="30"><g stroke="rgb(160, 160, 160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/></g></svg>',C={},D={captions:!0,buttons:"auto",async:!1,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null},E={},F=0,G=-1,H=!1,I=/.+\.(gif|jpe?g|png|webp)/i,J=[],K=[],L=[];return[].forEach||(Array.prototype.forEach=function(a,b){for(var c=0;c<this.length;c++)a.call(b,this[c],c,this)}),[].filter||(Array.prototype.filter=function(a,b,c,d,e){for(c=this,d=[],e=0;e<c.length;e++)a.call(b,c[e],e,c)&&d.push(c[e]);return d}),{run:a,showNext:j,showPrevious:k}}();!function(a){var b;window.UIkit&&(b=a(UIkit)),"function"==typeof define&&define.amd&&define("uikit-lightbox",["uikit"],function(){return b||a(UIkit)})}(function(a){"use strict";function b(b){return c?(c.lightbox=b,c):(c=a.$(['<div class="uk-modal">','<div class="uk-modal-dialog uk-modal-dialog-lightbox uk-slidenav-position" style="margin-left:auto;margin-right:auto;width:200px;height:200px;top:'+Math.abs(window.innerHeight/2-200)+'px;">','<a href="#" class="uk-modal-close uk-close uk-close-alt"></a>','<div class="uk-lightbox-content"></div>','<div class="uk-modal-spinner uk-hidden"></div>',"</div>","</div>"].join("")).appendTo("body"),c.dialog=c.find(".uk-modal-dialog:first"),c.content=c.find(".uk-lightbox-content:first"),c.loader=c.find(".uk-modal-spinner:first"),c.closer=c.find(".uk-close.uk-close-alt"),c.modal=a.modal(c,{modal:!1}),c.on("swipeRight swipeLeft",function(a){c.lightbox["swipeLeft"==a.type?"next":"previous"]()}).on("click","[data-lightbox-previous], [data-lightbox-next]",function(b){b.preventDefault(),c.lightbox[a.$(this).is("[data-lightbox-next]")?"next":"previous"]()}),c.on("hide.uk.modal",function(a){c.content.html("")}),a.$win.on("load resize orientationchange",a.Utils.debounce(function(b){c.is(":visible")&&!a.Utils.isFullscreen()&&c.lightbox.fitSize()}.bind(this),100)),c.lightbox=b,c)}var c,d={};return a.component("lightbox",{defaults:{group:!1,duration:400,keyboard:!0},index:0,items:!1,boot:function(){a.$html.on("click","[data-uk-lightbox]",function(b){b.preventDefault();var c=a.$(this);c.data("lightbox")||a.lightbox(c,a.Utils.options(c.attr("data-uk-lightbox"))),c.data("lightbox").show(c)}),a.$doc.on("keyup",function(a){if(c&&c.is(":visible")&&c.lightbox.options.keyboard)switch(a.preventDefault(),a.keyCode){case 37:c.lightbox.previous();break;case 39:c.lightbox.next()}})},init:function(){var b=[];if(this.index=0,this.siblings=[],this.element&&this.element.length){var c=this.options.group?a.$(['[data-uk-lightbox*="'+this.options.group+'"]',"[data-uk-lightbox*='"+this.options.group+"']"].join(",")):this.element;c.each(function(){var c=a.$(this);b.push({source:c.attr("href"),title:c.attr("title"),type:c.attr("data-lightbox-type")||"auto",link:c})}),this.index=c.index(this.element),this.siblings=b}else this.options.group&&this.options.group.length&&(this.siblings=this.options.group);this.trigger("lightbox-init",[this])},show:function(c){this.modal=b(this),this.modal.dialog.stop(),this.modal.content.stop();var d,e,f=this,g=a.$.Deferred();c=c||0,"object"==typeof c&&this.siblings.forEach(function(a,b){c[0]===a.link[0]&&(c=b)}),0>c?c=this.siblings.length-c:this.siblings[c]||(c=0),e=this.siblings[c],d={lightbox:f,source:e.source,type:e.type,index:c,promise:g,title:e.title,item:e,meta:{content:"",width:null,height:null}},this.index=c,this.modal.content.empty(),this.modal.is(":visible")||(this.modal.content.css({width:"",height:""}).empty(),this.modal.modal.show()),this.modal.loader.removeClass("uk-hidden"),g.promise().done(function(){f.data=d,f.fitSize(d)}).fail(function(){d.meta.content='<div class="uk-position-cover uk-flex uk-flex-middle uk-flex-center"><strong>Loading resource failed!</strong></div>',d.meta.width=400,d.meta.height=300,f.data=d,f.fitSize(d)}),f.trigger("showitem.uk.lightbox",[d])},fitSize:function(){var b=this,c=this.data,d=this.modal.dialog.outerWidth()-this.modal.dialog.width(),e=parseInt(this.modal.dialog.css("margin-top"),10),f=parseInt(this.modal.dialog.css("margin-bottom"),10),g=e+f,h=c.meta.content,i=b.options.duration;this.siblings.length>1&&(h=[h,'<a href="#" class="uk-slidenav uk-slidenav-contrast uk-slidenav-previous uk-hidden-touch" data-lightbox-previous></a>','<a href="#" class="uk-slidenav uk-slidenav-contrast uk-slidenav-next uk-hidden-touch" data-lightbox-next></a>'].join(""));var j,k,l=a.$("<div>&nbsp;</div>").css({opacity:0,position:"absolute",top:0,left:0,width:"100%","max-width":b.modal.dialog.css("max-width"),padding:b.modal.dialog.css("padding"),margin:b.modal.dialog.css("margin")}),m=c.meta.width,n=c.meta.height;l.appendTo("body").width(),j=l.width(),k=window.innerHeight-g,l.remove(),this.modal.dialog.find(".uk-modal-caption").remove(),c.title&&(this.modal.dialog.append('<div class="uk-modal-caption">'+c.title+"</div>"),k-=this.modal.dialog.find(".uk-modal-caption").outerHeight()),j<c.meta.width&&(n=Math.floor(n*(j/m)),m=j),n>k&&(n=Math.floor(k),m=Math.ceil(c.meta.width*(k/c.meta.height))),this.modal.content.css("opacity",0).width(m).html(h),"iframe"==c.type&&this.modal.content.find("iframe:first").height(n);var o=n+d,p=Math.floor(window.innerHeight/2-o/2)-g;0>p&&(p=0),this.modal.closer.addClass("uk-hidden"),b.modal.data("mwidth")==m&&b.modal.data("mheight")==n&&(i=0),this.modal.dialog.animate({width:m+d,height:n+d,top:p},i,"swing",function(){b.modal.loader.addClass("uk-hidden"),b.modal.content.css({width:""}).animate({opacity:1},function(){b.modal.closer.removeClass("uk-hidden")}),b.modal.data({mwidth:m,mheight:n})})},next:function(){this.show(this.siblings[this.index+1]?this.index+1:0)},previous:function(){this.show(this.siblings[this.index-1]?this.index-1:this.siblings.length-1)}}),a.plugin("lightbox","image",{init:function(a){a.on("showitem.uk.lightbox",function(a,b){if("image"==b.type||b.source&&b.source.match(/\.(jpg|jpeg|png|gif|svg)$/i)){var c=function(a,c,d){b.meta={content:'<img class="uk-responsive-width" src ="'+a+'">',width:c,height:d},b.type="image",b.promise.resolve()};if(d[b.source])c(b.source,d[b.source].width,d[b.source].height);else{var e=new Image;e.onerror=function(){b.promise.reject("Loading image failed")},e.onload=function(){d[b.source]={width:e.width,height:e.height},c(b.source,d[b.source].width,d[b.source].height)},e.src=b.source}}})}}),a.plugin("lightbox","youtube",{init:function(a){var b=/(\/\/.*?youtube\.[a-z]+)\/watch\?v=([^&]+)&?(.*)/,c=/youtu\.be\/(.*)/,e=/youtube\.com\/embed\/(.*)/;a.on("showitem.uk.lightbox",function(a,f){var g,h,i=function(a,b,c){f.meta={content:'<iframe src="//www.youtube.com/embed/'+a+'" width="'+b+'" height="'+c+'" style="max-width:100%;"></iframe>',width:b,height:c},f.type="iframe",f.promise.resolve()};if((h=f.source.match(b))&&(g=h[2]),(h=f.source.match(c))&&(g=h[1]),(h=f.source.match(e))&&(g=h[1]),g){if(d[g])i(g,d[g].width,d[g].height);else{var j=new Image;j.onerror=function(){d[g]={width:640,height:320},i(g,d[g].width,d[g].height)},j.onload=function(){d[g]={width:j.width,height:j.height},i(g,j.width,j.height)},j.src="//img.youtube.com/vi/"+g+"/0.jpg"}a.stopImmediatePropagation()}})}}),a.plugin("lightbox","vimeo",{init:function(b){var c,e=/(\/\/.*?)vimeo\.[a-z]+\/([0-9]+).*?/;b.on("showitem.uk.lightbox",function(b,f){var g,h=function(a,b,c){f.meta={content:'<iframe src="//player.vimeo.com/video/'+a+'" width="'+b+'" height="'+c+'" style="width:100%;box-sizing:border-box;"></iframe>',width:b,height:c},f.type="iframe",f.promise.resolve()};(c=f.source.match(e))&&(g=c[2],d[g]?h(g,d[g].width,d[g].height):a.$.ajax({type:"GET",url:"http://vimeo.com/api/oembed.json?url="+encodeURI(f.source),jsonp:"callback",dataType:"jsonp",success:function(a){d[g]={width:a.width,height:a.height},h(g,d[g].width,d[g].height)}}),b.stopImmediatePropagation())})}}),a.plugin("lightbox","video",{init:function(b){b.on("showitem.uk.lightbox",function(b,c){var e=function(a,b,d){c.meta={content:'<video class="uk-responsive-width" src="'+a+'" width="'+b+'" height="'+d+'" controls></video>',width:b,height:d},c.type="video",c.promise.resolve()};if("video"==c.type||c.source.match(/\.(mp4|webm|ogv)$/i))if(d[c.source])e(c.source,d[c.source].width,d[c.source].height);else var f=a.$('<video style="position:fixed;visibility:hidden;top:-10000px;"></video>').attr("src",c.source).appendTo("body"),g=setInterval(function(){f[0].videoWidth&&(clearInterval(g),d[c.source]={width:f[0].videoWidth,height:f[0].videoHeight},e(c.source,d[c.source].width,d[c.source].height),f.remove())},20)})}}),a.lightbox.create=function(b,c){if(b){var d,e=[];return b.forEach(function(b){e.push(a.$.extend({source:"",title:"",type:"auto",link:!1},"string"==typeof b?{source:b}:b))}),d=a.lightbox(a.$.extend({},c,{group:e}))}},a.lightbox}),function(a){function b(b,c){this.carouselRoot=a(b);var d=this;this._lockYAxis=!1,this._isAnimating=!1,this._downEvent="",this._moveEvent="",this._upEvent="",this._totalItemsWidth,this._itemWidths,this._startAccelerationX,this._accelerationX,this._latestDragX,this._startTime=0,this.settings=a.extend({},a.fn.touchCarousel.defaults,c),this._dragContainer=this.carouselRoot.find(".touchcarousel-container"),this._windowWidth=a(window).width(),this._dragContainerStyle=this._dragContainer[0].style,this._itemsWrapper=this._dragContainer.wrap(a('<div class="touchcarousel-wrapper" />')).parent();var e=this._dragContainer.find(".touchcarousel-item");if(this.items=[],this.numItems=e.length,this._decelerationAnim,this._successfullyDragged=!1,this._startMouseX=0,this._prevMouseX=0,this._moveDist=0,this._blockClickEvents=!1,this._wasBlocked=!1,this.currentPosX=0,this._useWebkitTransition=!1,"ontouchstart"in window)this.hasTouch=!0,this._downEvent="touchstart.rs",this._moveEvent="touchmove.rs",this._upEvent="touchend.rs",this._baseFriction=this.settings.baseTouchFriction;else if(this.hasTouch=!1,this._baseFriction=this.settings.baseMouseFriction,this.settings.dragUsingMouse){this._downEvent="mousedown.rs",this._moveEvent="mousemove.rs",this._upEvent="mouseup.rs",this._grabCursor,this._grabbingCursor;var f=a.browser;f.msie||f.opera?this._grabCursor=this._grabbingCursor="move":f.mozilla&&(this._grabCursor="-moz-grab",this._grabbingCursor="-moz-grabbing"),this._setGrabCursor()}else this._itemsWrapper.addClass("auto-cursor");(this.hasTouch||this.settings.useWebkit3d)&&"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix&&(this._dragContainer.css({"-webkit-transform-origin":"0 0","-webkit-transform":"translateZ(0)"}),this._useWebkitTransition=!0),this._useWebkitTransition?(this._xProp="-webkit-transform",this._xPref="translate3d(",this._xSuf="px, 0, 0)"):(this._xProp="left",this._xPref="",this._xSuf="px"),this.hasTouch&&(this.settings.directionNavAutoHide=!1),this.settings.directionNav||(this.settings.loopItems?(this._arrowLeftBlocked=!0,this._arrowRightBlocked=!0):(this._arrowLeftBlocked=!1,this._arrowRightBlocked=!1),this.settings.loopItems=!0);var g,h,i=0;if(e.eq(this.numItems-1).addClass("last"),e.each(function(b){if(h=a(this),d.settings.itemLikeWindowWidth&&h.css("width",d._windowWidth),g={},g.item=h,g.index=b,g.posX=i,g.width=h.outerWidth(!0)||d.settings.itemFallbackWidth,i+=g.width,this.hasTouch){var c,e=h.find("a");e.each(function(){c=a(this),c.data("tc-href",c.attr("href")),c.data("tc-target",c.attr("target")),c.attr("href","#"),c.bind("click",function(b){if(b.preventDefault(),d._successfullyDragged)return!1;var c=a(this).data("tc-href"),e=a(this).data("tc-target");e&&"_self"!==e.toLowerCase()?window.open(c):window.location.href=c})})}else h.find("a").bind("click.touchcarousel",function(a){return d._successfullyDragged?(a.preventDefault(),!1):void 0});h.find(".non-draggable").bind(d._downEvent,function(a){d._successfullyDragged=!1,a.stopImmediatePropagation()}),d.items.push(g)}),this._maxXPos=this._totalItemsWidth=i,this.settings.itemsPerMove>0?this._itemsPerMove=this.settings.itemsPerMove:this._itemsPerMove=1,this.settings.pagingNav){if(this.settings.snapToItems=!0,this._pagingEnabled=!0,this._numPages=Math.ceil(this.numItems/this._itemsPerMove),this._currPageId=0,this.settings.pagingNavControls){this._pagingNavContainer=a('<div class="tc-paging-container"><div class="tc-paging-centerer"><div class="tc-paging-centerer-inside"></div></div></div>');for(var j,k=this._pagingNavContainer.find(".tc-paging-centerer-inside"),l=1;l<=this._numPages;l++)j=a('<a class="tc-paging-item" href="#">'+l+"</a>").data("tc-id",l),l===this._currPageId+1&&j.addClass("current"),k.append(j);this._pagingItems=k.find(".tc-paging-item").click(function(b){b.preventDefault(),d.goTo((a(b.currentTarget).data("tc-id")-1)*d._itemsPerMove)}),this._itemsWrapper.after(this._pagingNavContainer)}}else this._pagingEnabled=!1;this._dragContainer.css({width:i}),this.settings.directionNav&&(this._itemsWrapper.after("<a href='#' class='arrow-holder left'><span class='arrow-icon left'></span></a> <a href='#' class='arrow-holder right'><span class='arrow-icon right'></span></a>"),this.arrowLeft=this.carouselRoot.find(".arrow-holder.left"),this.arrowRight=this.carouselRoot.find(".arrow-holder.right"),this.arrowLeft.length<1||this.arrowRight.length<1?this.settings.directionNav=!1:this.settings.directionNavAutoHide&&(this.arrowLeft.hide(),this.arrowRight.hide(),this.carouselRoot.one("mousemove.arrowshover",function(){d.arrowLeft.fadeIn("fast"),d.arrowRight.fadeIn("fast")}),this.carouselRoot.hover(function(){d.arrowLeft.fadeIn("fast"),d.arrowRight.fadeIn("fast")},function(){d.arrowLeft.fadeOut("fast"),d.arrowRight.fadeOut("fast")})),this._updateDirectionNav(0),this.settings.directionNav&&(this.arrowRight.click(function(a){a.preventDefault(),(d.settings.loopItems&&!d._blockClickEvents||!d._arrowRightBlocked)&&d.next()}),this.arrowLeft.click(function(a){a.preventDefault(),(d.settings.loopItems&&!d._blockClickEvents||!d._arrowLeftBlocked)&&d.prev()}))),this.carouselWidth,this._resizeEvent="resize";a(window).bind(this._resizeEvent,function(){d.updateCarouselSize(!0)}),this.settings.scrollbar?(this._scrollbarHolder=a("<div class='scrollbar-holder'><div class='scrollbar"+("light"===this.settings.scrollbarTheme.toLowerCase()?" light":" dark")+"'></div></div>"),this._scrollbarHolder.appendTo(this.carouselRoot),this.scrollbarJQ=this._scrollbarHolder.find(".scrollbar"),this._scrollbarHideTimeout="",this._scrollbarStyle=this.scrollbarJQ[0].style,this._scrollbarDist=0,this.settings.scrollbarAutoHide?(this._scrollbarVisible=!1,this.scrollbarJQ.css("opacity",0)):this._scrollbarVisible=!0):this.settings.scrollbarAutoHide=!1,this.updateCarouselSize(!0),this._itemsWrapper.bind(this._downEvent,function(a){d._onDragStart(a)}),this.settings.autoplay&&this.settings.autoplayDelay>0?(this._isHovering=!1,this.autoplayTimer="",this.wasAutoplayRunning=!0,this.hasTouch||this.carouselRoot.hover(function(){d._isHovering=!0,d._stopAutoplay()},function(){d._isHovering=!1,d._resumeAutoplay()}),this.autoplay=!0,this._releaseAutoplay()):this.autoplay=!1,this.settings.keyboardNav&&a(document).bind("keydown.touchcarousel",function(a){d._blockClickEvents||(37===a.keyCode?d.prev():39===a.keyCode&&d.next())}),this.carouselRoot.css("overflow","visible")}b.prototype={goTo:function(a,b){var c=this.items[a];if(c){!b&&this.autoplay&&this.settings.autoplayStopAtAction&&this.stopAutoplay(),this._updatePagingNav(a),this.endPos=this._getXPos();var d=-c.posX;d>0?d=0:d<this.carouselWidth-this._maxXPos&&(d=this.carouselWidth-this._maxXPos),this.animateTo(d,this.settings.transitionSpeed,"easeInOutSine")}},next:function(a){var b=this._getXPos(),c=this._getItemAtPos(b).index;if(this._pagingEnabled){var d=this._currPageId+1;c=d>this._numPages-1?this.settings.loopItems?0:(this._numPages-1)*this._itemsPerMove:d*this._itemsPerMove}else c+=this._itemsPerMove,this.settings.loopItems&&b<=this.carouselWidth-this._maxXPos&&(c=0),c>this.numItems-1&&(c=this.numItems-1);this.goTo(c,a)},prev:function(a){var b=this._getXPos(),c=this._getItemAtPos(b).index;if(this._pagingEnabled){var d=this._currPageId-1;c=0>d?this.settings.loopItems?(this._numPages-1)*this._itemsPerMove:0:d*this._itemsPerMove}else c-=this._itemsPerMove,0>c&&(c=this.settings.loopItems?0>b?0:this.numItems-1:0);this.goTo(c,a)},getCurrentId:function(){var a=this._getItemAtPos(this._getXPos()).index;return a},setXPos:function(a,b){this.currentPosX=a,b?this._scrollbarStyle[this._xProp]=this._xPref+a+this._xSuf:this._dragContainerStyle[this._xProp]=this._xPref+a+this._xSuf},stopAutoplay:function(){this._stopAutoplay(),this.autoplay=!1,this.wasAutoplayRunning=!1},resumeAutoplay:function(){this.autoplay=!0,this.wasAutoplayRunning||this._resumeAutoplay()},updateCarouselSize:function(b){var c=this._getItemAtPos(this.currentPosX).index;this.carouselWidth=this.carouselRoot.width(),this._windowWidth=a(window).width();var d=0;for(k=0;k<this.items.length;k++)this.settings.itemLikeWindowWidth&&this.items[k].item.css("width",this._windowWidth),this.items[k].posX=d,this.items[k].width=this.items[k].item.outerWidth(!0)||this.settings.itemFallbackWidth,d+=this.items[k].width;if(this._maxXPos=this._totalItemsWidth=d,this._dragContainer.css({width:d}),this.settings.scrollToLast){var e=0;if(this._pagingEnabled){var f=this.numItems%this._itemsPerMove;if(f>0)for(var g=this.numItems-f;g<this.numItems;g++)e+=this.items[g].width;else e=this.carouselWidth}else e=this.items[this.numItems-1].width;this._maxXPos=this._totalItemsWidth+this.carouselWidth-e}else this._maxXPos=this._totalItemsWidth;if(this.settings.scrollbar){var h=Math.round(this._scrollbarHolder.width()/(this._maxXPos/this.carouselWidth));this.scrollbarJQ.css("width",h),this._scrollbarDist=this._scrollbarHolder.width()-h}if(!this.settings.scrollToLast){if(this.carouselWidth>=this._totalItemsWidth)return this._wasBlocked=!0,this.settings.loopItems||(this._arrowRightBlocked=!0,this.arrowRight.addClass("disabled"),this._arrowLeftBlocked=!0,this.arrowLeft.addClass("disabled")),void this.setXPos(0);this._wasBlocked&&(this._wasBlocked=!1,this._arrowRightBlocked=!1,this._arrowLeftBlocked=!1,this.arrowRight.removeClass("disabled"),this.arrowLeft.removeClass("disabled"))}if(b)this.goTo(c);else{var i=this.endPos=this._getXPos();i>0?i=0:i<this.carouselWidth-this._maxXPos&&(i=this.carouselWidth-this._maxXPos),this.animateTo(i,300,"easeInOutSine")}},animateTo:function(b,c,d,e,f,g,h){function i(){j._isAnimating=!1,j._releaseAutoplay(),j.settings.scrollbarAutoHide&&j._hideScrollbar(),null!==j.settings.onAnimComplete&&j.settings.onAnimComplete.call(j)}this.currentPosX=b,null!==this.settings.onAnimStart&&this.settings.onAnimStart.call(this),this.autoplay&&this.autoplayTimer&&(this.wasAutoplayRunning=!0,this._stopAutoplay()),this._stopAnimation();var j=this,k=this.settings.scrollbar,l=j._xProp,m=j._xPref,n=j._xSuf,o={containerPos:this.endPos},p={containerPos:b},q={containerPos:f},f=e?f:b,r=j._dragContainerStyle;if(j._isAnimating=!0,k){var s=this._scrollbarStyle,t=j._maxXPos-j.carouselWidth;this.settings.scrollbarAutoHide&&(this._scrollbarVisible||this._showScrollbar())}this._updateDirectionNav(f),this._decelerationAnim=a(o).animate(p,{duration:c,easing:d,step:function(){k&&(s[l]=m+Math.round(j._scrollbarDist*(-this.containerPos/t))+n),r[l]=m+Math.round(this.containerPos)+n},complete:function(){e?j._decelerationAnim=a(p).animate(q,{duration:g,easing:h,step:function(){k&&(s[l]=m+Math.round(j._scrollbarDist*(-this.containerPos/t))+n),r[l]=m+Math.round(this.containerPos)+n},complete:function(){k&&(s[l]=m+Math.round(j._scrollbarDist*(-q.containerPos/t))+n),r[l]=m+Math.round(q.containerPos)+n,i()}}):(k&&(s[l]=m+Math.round(j._scrollbarDist*(-p.containerPos/t))+n),r[l]=m+Math.round(p.containerPos)+n,i())}})},destroy:function(){this.stopAutoplay(),this._itemsWrapper.unbind(this._downEvent),a(document).unbind(this._moveEvent).unbind(this._upEvent),a(window).unbind(this._resizeEvent),this.settings.keyboardNav&&a(document).unbind("keydown.touchcarousel"),this.carouselRoot.remove()},_updatePagingNav:function(a){if(this._pagingEnabled){var b=this._getPageIdFromItemId(a);this._currPageId=b,this.settings.pagingNavControls&&(this._pagingItems.removeClass("current"),this._pagingItems.eq(b).addClass("current"))}},_getPageIdFromItemId:function(a){for(var b=this._itemsPerMove,c=0;c<this._numPages;c++)if(a>=c*b&&c*b+b>a)return c;return 0>a?0:a>=this._numPages?this._numPages-1:!1},_enableArrows:function(){this.settings.loopItems||(this._arrowLeftBlocked?(this._arrowLeftBlocked=!1,this.arrowLeft.removeClass("disabled")):this._arrowRightBlocked&&(this._arrowRightBlocked=!1,
this.arrowRight.removeClass("disabled")))},_disableLeftArrow:function(){this._arrowLeftBlocked||this.settings.loopItems||(this._arrowLeftBlocked=!0,this.arrowLeft.addClass("disabled"),this._arrowRightBlocked&&(this._arrowRightBlocked=!1,this.arrowRight.removeClass("disabled")))},_disableRightArrow:function(){this._arrowRightBlocked||this.settings.loopItems||(this._arrowRightBlocked=!0,this.arrowRight.addClass("disabled"),this._arrowLeftBlocked&&(this._arrowLeftBlocked=!1,this.arrowLeft.removeClass("disabled")))},_getItemAtPos:function(a){var b=this;a=-a;for(var c,d=0;d<b.numItems;d++)if(c=b.items[d],a>=c.posX&&a<c.posX+c.width)return c;return-1},_releaseAutoplay:function(){this.autoplay&&this.wasAutoplayRunning&&(this._isHovering||this._resumeAutoplay(),this.wasAutoplayRunning=!1)},_hideScrollbar:function(){var a=this;this._scrollbarVisible=!1,this._scrollbarHideTimeout&&clearTimeout(this._scrollbarHideTimeout),this._scrollbarHideTimeout=setTimeout(function(){a.scrollbarJQ.animate({opacity:0},150,"linear")},450)},_showScrollbar:function(){this._scrollbarVisible=!0,this._scrollbarHideTimeout&&clearTimeout(this._scrollbarHideTimeout),this.scrollbarJQ.stop().animate({opacity:1},150,"linear")},_stopAnimation:function(){this._decelerationAnim&&this._decelerationAnim.stop()},_resumeAutoplay:function(){if(this.autoplay){var a=this;this.autoplayTimer||(this.autoplayTimer=setInterval(function(){a._isDragging||a._isAnimating||a.next(!0)},this.settings.autoplayDelay))}},_stopAutoplay:function(){this.autoplayTimer&&(clearInterval(this.autoplayTimer),this.autoplayTimer="")},_getXPos:function(a){var b=a?this.scrollbarJQ:this._dragContainer;if(this._useWebkitTransition){var c=b.css("-webkit-transform"),d=c.replace(/^matrix\(/i,"").split(/, |\)$/g);return parseInt(d[4],10)}return Math.round(b.position().left)},_onDragStart:function(b){if(!this._isDragging){this.autoplay&&this.settings.autoplayStopAtAction&&this.stopAutoplay(),this._stopAnimation(),this.settings.scrollbarAutoHide&&this._showScrollbar();var c;if(this.hasTouch){this._lockYAxis=!1;var d=b.originalEvent.touches;if(!(d&&d.length>0))return!1;c=d[0]}else c=b,b.preventDefault();this._setGrabbingCursor(),this._isDragging=!0;var e=this;this._useWebkitTransition&&e._dragContainer.css({"-webkit-transition-duration":"0","-webkit-transition-property":"none"}),a(document).bind(this._moveEvent,function(a){e._onDragMove(a)}),a(document).bind(this._upEvent,function(a){e._onDragRelease(a)}),this._startPos=this._getXPos(),this._accelerationX=c.clientX,this._successfullyDragged=!1,this._startTime=b.timeStamp||Date.now(),this._moveDist=0,this._prevMouseX=this._startMouseX=c.clientX,this._startMouseY=c.clientY}},_onDragMove:function(a){var b,c=a.timeStamp||Date.now();if(this.hasTouch){if(this._lockYAxis)return!1;var d=a.originalEvent.touches;if(d.length>1)return!1;if(b=d[0],Math.abs(b.clientY-this._startMouseY)>Math.abs(b.clientX-this._startMouseX)+3)return this.settings.lockAxis&&(this._lockYAxis=!0),!1;a.preventDefault()}else b=a,a.preventDefault();this._latestDragX=b.clientX,this._lastDragPosition=this._currentDragPosition;var e=b.clientX-this._prevMouseX;if(this._lastDragPosition!=e&&(this._currentDragPosition=e),0!=e){var f=this._startPos+this._moveDist;f>=0?(e/=4,this._disableLeftArrow()):f<=this.carouselWidth-this._maxXPos?(this._disableRightArrow(),e/=4):this._enableArrows(),this._moveDist+=e,this.setXPos(f),this.settings.scrollbar&&this.setXPos(this._scrollbarDist*(-f/(this._maxXPos-this.carouselWidth)),!0)}return this._prevMouseX=b.clientX,c-this._startTime>350&&(this._startTime=c,this._accelerationX=b.clientX),null!==this.settings.onDragStart&&this.settings.onDragStart.call(this),!1},_onDragRelease:function(b){function c(a){return a>0?a=0:a<d.carouselWidth-d._maxXPos&&(a=d.carouselWidth-d._maxXPos),a}if(this._isDragging){var d=this;if(this._isDragging=!1,this._setGrabCursor(),this.endPos=this._getXPos(),this.isdrag=!1,a(document).unbind(this._moveEvent).unbind(this._upEvent),this.endPos==this._startPos)return this._successfullyDragged=!1,void(this.settings.scrollbarAutoHide&&this._hideScrollbar());this._successfullyDragged=!0;var e=this._latestDragX-this._accelerationX,f=Math.max(40,(b.timeStamp||Date.now())-this._startTime),g=.5,h=2,i=Math.abs(e)/f;if(this.settings.snapToItems){this.autoplay&&this.settings.autoplayStopAtAction&&this.stopAutoplay();var j=Boolean(this._startMouseX-this._prevMouseX>0),k=c(this._getXPos()),l=this._getItemAtPos(k).index;if(this._pagingEnabled){j&&(k=Math.max(k-this.carouselWidth-1,1-d._maxXPos),l=this._getItemAtPos(k).index,void 0===l&&(l=this.numItems-1));var m=this._getPageIdFromItemId(l);l=m*this._itemsPerMove}else l+=j?this._itemsPerMove:-this._itemsPerMove+1;l=j?Math.min(l,this.numItems-1):Math.max(l,0);var n=this.items[l];if(this._updatePagingNav(l),n){k=c(-n.posX);var o=Math.abs(this.endPos-k),p=Math.max(1.08*o/i,150),q=Boolean(180>p),r=.08*o;j&&(r=-1*r),this.animateTo(q?k+r:k,Math.min(p,400),"easeOutSine",q,k,300,"easeOutCubic")}}else{var s=0;2>=i?(g=3.5*this._baseFriction,s=0):i>2&&3>=i?(g=4*this._baseFriction,s=200):i>3&&(s=300,i>4&&(i=4,s=400,g=6*this._baseFriction),g=5*this._baseFriction);var t=i*i*h/(2*g);t*=0>e?-1:1;var u=i*h/g+s;this.endPos+t>0?this.endPos>0?this.animateTo(0,800,"easeOutCubic"):this.animateTo(this.carouselWidth/10*((s+200)/1e3),1.1*Math.abs(this.endPos)/i,"easeOutSine",!0,0,400,"easeOutCubic"):this.endPos+t<this.carouselWidth-this._maxXPos?this.endPos<this.carouselWidth-this._maxXPos?this.animateTo(this.carouselWidth-this._maxXPos,800,"easeOutCubic"):this.animateTo(this.carouselWidth-this._maxXPos-this.carouselWidth/10*((s+200)/1e3),1.1*Math.abs(this.carouselWidth-this._maxXPos-this.endPos)/i,"easeOutSine",!0,this.carouselWidth-this._maxXPos,400,"easeOutCubic"):this.animateTo(this.endPos+t,u,"easeOutCubic")}null!==this.settings.onDragRelease&&this.settings.onDragRelease.call(this)}return!1},_updateDirectionNav:function(a){void 0===a&&(a=this._getXPos()),this.settings.loopItems||(a>=0?this._disableLeftArrow():a<=this.carouselWidth-this._maxXPos?this._disableRightArrow():this._enableArrows())},_setGrabCursor:function(){this._grabCursor?this._itemsWrapper.css("cursor",this._grabCursor):(this._itemsWrapper.removeClass("grabbing-cursor"),this._itemsWrapper.addClass("grab-cursor"))},_setGrabbingCursor:function(){this._grabbingCursor?this._itemsWrapper.css("cursor",this._grabbingCursor):(this._itemsWrapper.removeClass("grab-cursor"),this._itemsWrapper.addClass("grabbing-cursor"))}},a.fn.touchCarousel=function(c){return this.each(function(){var d=new b(a(this),c);a(this).data("touchCarousel",d)})},a.fn.touchCarousel.defaults={itemsPerMove:1,snapToItems:!1,pagingNav:!1,pagingNavControls:!0,autoplay:!1,autoplayDelay:3e3,autoplayStopAtAction:!0,scrollbar:!0,scrollbarAutoHide:!1,scrollbarTheme:"dark",transitionSpeed:600,directionNav:!0,directionNavAutoHide:!1,loopItems:!1,keyboardNav:!1,dragUsingMouse:!0,itemLikeWindowWidth:!1,scrollToLast:!1,itemFallbackWidth:500,baseMouseFriction:.0012,baseTouchFriction:8e-4,lockAxis:!0,useWebkit3d:!1,onAnimStart:null,onAnimComplete:null,onDragStart:null,onDragRelease:null},a.fn.touchCarousel.settings={},a.extend(jQuery.easing,{easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c}})}(jQuery),$.fn.unitSwitch=function(a){function b(){e.each(function(){var a=$.trim($(this).val()),b=$.trim($(this).attr("units"));""!==a&&void 0!=b&&""!=b&&d[b]&&("in"==f?a*=d[b]:a/=d[b],c(this,a))})}function c(a,b){b=Math.round(b*Math.pow(10,1))/Math.pow(10,1),$(a).val(b)}var d={1:2.54,2:.45359237},e=$(a).find("input[type=text], input[type=number]"),f=$(this).val();this.change(function(){f!==$(this).val()&&b(),f=$(this).val()})},$.fn.inRange=function(a,b){function c(c){c.each(function(){var c=$.trim($(a).val()),d=parseFloat($.trim($(this).val())),e=$.trim($(this).attr(c));if(e&&""!=e&&!isNaN(d)){var f=!1,g=e.split(","),h=parseFloat(g[0]),i=parseFloat(g[1]);h&&!isNaN(h)&&h>d&&(f=!0),i&&!isNaN(i)&&d>i&&(f=!0);var j=$(this).parent().parent();b&&(j=$(this).parent().parent().next());var k="cm"==$(a).val()?".tips1":".tips2",l=j.find(k);j.find(".tips1, .tips2").hide(),l[f?"show":"hide"]()}})}var d=this.find("input[type=text], input[type=number]");d.bind("keyup.inrange, change.inrange",function(){c(d)}),$(a).bind("change.inrange",function(){c(d)})},function(a){function b(){var b=!1;return a(".skuLinkage").each(function(){if(!a(this).is(":disabled")){var c=a(this).find("option:selected");(""===a.trim(a(this).val())||c&&c.hasClass("no_stock"))&&(b=!0)}}),b}a.fn.sku=function(c,d){function e(b,d){var e=null,f=a(b).attr("sku:key");if(!isNullData&&c.products_sku&&f){var g=c.products_sku[f];if(a.isArray(g)){for(var h=0;h<j.length;h++)if(j[h]!==d){v=a(j.eq(h)).val();for(var i=0;i<g.length;i++){var k=g[i].split("|");if(v==k[1]){e=k[2];break}}}}else e=g}return e}function f(a){var b=c.products_sku;if(!b||!b[a])return null;for(var d={},e=b[a],f=0;f<e.length;f++){var g=e[f].split("|"),h=g[0],i=g[1];d[h]||(d[h]={}),d[h][i]=i}return d}function g(b,c){var d=function(b,c){a("#"+b).hasClass("skusize")&&(c.custom?a("#cussize_box").fadeIn():a("#cussize_box").hide());var d=document.getElementById(b);if(!d||!d.length)return!1;var e=d.getElementsByTagName("option");a(e).each(function(b){if(b>0){var d=a(this).attr("sku:key");d&&c[d]?(a(this).removeClass("no_stock"),this._color="#000"):(a(this).addClass("no_stock"),this._color="#ccc"),"custom"===d&&a(this).hide()}})};for(var e in b)d("sku_"+e,b[e]),a("#sku_"+e).find("option:selected").hasClass("no_stock")?a("#sku_"+e).css("color","#ccc"):a("#sku_"+e).css("color","#000"),a("#sku_"+e).find("option").each(function(b){a(this).css("color",this._color)})}function h(b){return a(b).find("option:selected")}c=a.isPlainObject(c)?c:a.parseJSON(c),isNull=!0,isNullData=!0;for(var i in c)isNullData=!1;var j=this;j.each(function(){var c=h(this);a(c).attr("sku:key");d&&a.isFunction(d)&&d.call(c,e(c,this),1),a(this).change(function(c){c.preventDefault(),c.stopPropagation();var i=h(this),j=a(i).attr("sku:key");return isNullData?(d.call(i,null,2),!1):(j&&!isNullData&&g(f(j),i),d&&a.isFunction(d)&&d.call(i,e(i,this),1),a(this).find("option:selected").hasClass("no_stock")?a(this).css("color","#ccc"):a(this).css("color","#000"),a(this).find("option").each(function(b){a(this).css("color",this._color)}),b()||a("#productLockedTips").fadeOut(),!1)})})}}(jQuery),function(a){a.fn.mutexids=function(b){function c(b,c,d){var e=[],f=a(b).attr("id"),g=a(b).is(":checked"),h=f.split("_"),i=h[1],j=g&&d[i]?d[i]:[];c.each(function(){a(this).is(":checked")&&e.push(a(this).attr("id").split("_")[1])});for(var k=0;k<e.length;k++){var h=d[e[k]];a.merge(j,h?h:[])}if(j=a.unique(j),j&&j.length){c.removeAttr("disabled").removeClass("disabled"),c.parent().removeClass("mutexids_disabled");for(var k=0;k<j.length;k++){var l=a("#mk_"+j[k]);l&&l.length&&(l.attr("disabled","disabled").removeAttr("checked"),l.parent().addClass("mutexids_disabled"))}}else c.removeAttr("disabled").removeClass("disabled"),c.parent().removeClass("mutexids_disabled")}if(""!=b&&void 0!==b){var d=this;b=a.parseJSON(b),this.change(function(){c(this,d,b)})}}}(jQuery);